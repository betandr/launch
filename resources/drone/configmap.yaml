apiVersion: v1
kind: ConfigMap
metadata:
  name: drone-config
  namespace: drone
data:

  #######################
  # Drone Server Config #
  #######################

  # server host name
  server.host: X_HOSTNAME
  # start the server in debug mode
  server.debug: "true"
  # open user registration
  server.open: "true"
  # database driver, defaul as sqlite3
  server.database.driver: sqlite3
  # database driver configuration string
  server.database.datasource: drone.sqlite
  # list of admin users
  server.admin: X_SERVER_ADMIN

  # remote parameters (GitHub)
  server.remote.github: "true"
  server.remote.github.client: X_GITHUB_CLIENT
  server.remote.github.secret: X_GITHUB_SECRET

  # remote parameters (Gitea)
  server.remote.gitea: "false"
  server.remote.gitea.url: "https://try.gitea.io"
  server.remote.gitea.skip.verify: "true"

  ######################
  # Drone Agent Config #
  ######################

  agent.debug: "true"
  agent.debug.pretty: "true"
  agent.max.procs: "1"
  agent.healthcheck: "true"
  agent.keepalive.time: "20s"
  agent.keepalive.timeout: "20s"
  agent.keepalive.min.time: "5s"
